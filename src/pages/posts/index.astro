---
import Layout from "../../layouts/Layout.astro";
import Nav from "../../ui/Nav.astro";
import Link from "../../ui/Link.astro";
import PostCard from "../../ui/PostCard.astro";

const allPosts = await Astro.glob("./*.md");
---

<Layout title="Posts">
  <h1 class="mb-8">Posts</h1>
  <Nav class="flex items-center justify-end gap-3 mb-8">
    <Link href="/" text="About" />
    <Link current href="/posts" text="Posts" />
    <Link href="https://github.com/payton-burr" target="_blank" text="Github" />
  </Nav>
  <section aria-label="New Blog Posts">
    {
      allPosts.map((post) => (
        <PostCard frontmatter={post.frontmatter} url={post.url} />
      ))
    }
  </section>
</Layout>
